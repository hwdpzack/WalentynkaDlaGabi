<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Walentynka üíñ</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:Arial,sans-serif;
  background:pink;
  overflow:hidden;
  position:relative;
}

/* T≈ÅO ‚Äì niesko≈Ñczone serduszka */
#bg{
  position:absolute;
  inset:0;
  pointer-events:none;
  overflow:hidden;
}

.bg-heart{
  position:absolute;
  animation:rise linear infinite;
  color:red;
}

@keyframes rise{
  from{transform:translateY(110vh);opacity:1;}
  to{transform:translateY(-10vh);opacity:0;}
}

/* G≈Å√ìWNE OKNO */
.box{
  position:relative;
  background:rgba(255,255,255,0.85);
  padding:30px 40px;
  border-radius:20px;
  text-align:center;
  z-index:10;
}

h1{color:red}

.buttons{
  display:flex;
  gap:20px;
  justify-content:center;
  margin-top:20px;
}

button{
  font-size:18px;
  padding:10px 25px;
  border:none;
  border-radius:999px;
  cursor:pointer;
  transition:transform .2s ease;
}

#yes{background:#ff4d6d;color:#fff}
#no{background:#999;color:#fff}

.hidden{display:none}

/* OGROMNE SERCE */
.big-heart{
  margin-top:30px;
  font-size:240px;
  position:relative;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* NAPIS NA SERCU */
.big-heart span{
  position:absolute;
  font-size:44px;
  color:red;
  font-weight:bold;
  animation:textMove 1.2s infinite alternate;
}

/* ruch napisu */
@keyframes textMove{
  from{transform:translateY(-4px);}
  to{transform:translateY(4px);}
}

/* trzƒôsienie serca */
@keyframes shake{
  0%{transform:translateX(0);}
  25%{transform:translateX(-8px);}
  50%{transform:translateX(8px);}
  75%{transform:translateX(-8px);}
  100%{transform:translateX(0);}
}

.shake{
  animation:shake 0.3s;
}

/* WIADOMO≈öƒÜ */
.message{
  font-size:20px;
  color:#d00000;
  margin-top:15px;
  white-space:pre-line;
}

/* KONFETTI */
.confetti{
  position:fixed;
  top:-10px;
  font-size:20px;
  animation:fall 3s linear forwards;
  pointer-events:none;
}

@keyframes fall{
  to{transform:translateY(110vh) rotate(720deg);opacity:0}
}
</style>
</head>

<body>

<div id="bg"></div>

<audio id="music" loop>
  <source src="https://cdn.pixabay.com/audio/2022/02/23/audio_6d7fdd6e6b.mp3">
</audio>

<div class="box">
  <h1>Gabi, czy chcesz byƒá mojƒÖ walentynkƒÖ?</h1>

  <div class="buttons" id="buttons">
    <button id="yes">Tak</button>
    <button id="no">Nie</button>
  </div>

  <div id="heartBox" class="hidden">
    <div class="big-heart" id="heart">
      ‚ù§Ô∏è
      <span>Crack me üòà</span>
    </div>

    <div id="message" class="message hidden">
Kocham ciƒô ‚ù§Ô∏è
- Tw√≥j Zakus
    </div>
  </div>
</div>

<script>
const yes=document.getElementById("yes");
const no=document.getElementById("no");
const buttons=document.getElementById("buttons");
const heartBox=document.getElementById("heartBox");
const heart=document.getElementById("heart");
const message=document.getElementById("message");
const music=document.getElementById("music");
const bg=document.getElementById("bg");

let noClicks=0, scaleYes=1, scaleNo=1, heartClicks=0;

function playMusic(){
  music.play().catch(()=>{});
}

/* generowanie t≈Ça */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="bg-heart";
  h.textContent="‚ù§Ô∏è";
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=10+Math.random()*30+"px";
  h.style.animationDuration=3+Math.random()*5+"s";
  bg.appendChild(h);
  setTimeout(()=>h.remove(),8000);
},250);

/* konfetti */
function confetti(n,emoji){
  for(let i=0;i<n;i++){
    const c=document.createElement("div");
    c.className="confetti";
    c.textContent=emoji;
    c.style.left=Math.random()*100+"vw";
    c.style.fontSize=16+Math.random()*20+"px";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4000);
  }
}

/* NIE */
no.addEventListener("click",()=>{
  playMusic();
  if(noClicks<50){
    noClicks++;
    scaleYes*=1.15;
    scaleNo*=0.85;
    yes.style.transform=`scale(${scaleYes})`;
    no.style.transform=`scale(${scaleNo})`;
  }else{
    no.style.position="fixed";
    no.style.left=Math.random()*(window.innerWidth-80)+"px";
    no.style.top=Math.random()*(window.innerHeight-40)+"px";
  }
});

/* TAK */
yes.addEventListener("click",()=>{
  playMusic();
  buttons.classList.add("hidden");
  heartBox.classList.remove("hidden");
  confetti(40,"üéâ");
});

/* SERCE */
heart.addEventListener("click",()=>{
  heart.classList.remove("shake");
  void heart.offsetWidth;
  heart.classList.add("shake");

  heartClicks++;
  if(heartClicks===5){
    confetti(60,"‚ù§Ô∏è");
    message.classList.remove("hidden");
  }
});
</script>

</body>
</html>
